!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.sill={})}(this,function(e){var n=[];function t(e,t,a){for(var l,p=function e(t,a,l,p,c,s){if(null==l)a=t.insertBefore(o(p,c),a);else if(null!=p.type&&p.type===l.type){!function(e,t,o){for(var f in r(t,o)){var u=o[f],a="value"===f||"checked"===f?e[f]:t[f];u!==a&&i(e,f,u,a)}o&&o.onupdate&&n.push(function(){o.onupdate(e,t)})}(a,l.props,p.props),c=c||"svg"===p.type;for(var d=p.children.length,h=l.children.length,v={},y=[],g={},m=0;m<h;m++){var w=y[m]=a.childNodes[m],b=l.children[m],k=u(b);null!=k&&(v[k]=[w,b])}for(var m=0,A=0;A<d;){var w=y[m],b=l.children[m],x=p.children[A],k=u(b);if(g[k])m++;else{var N=u(x),K=v[N]||[];null==N?(null==k&&(e(a,w,b,x,c),A++),m++):(k===N?(e(a,K[0],K[1],x,c),m++):K[0]?(a.insertBefore(K[0],w),e(a,K[0],K[1],x,c)):e(a,w,null,x,c),A++,g[N]=x)}}for(;m<h;){var b=l.children[m],k=u(b);null==k&&f(a,y[m],b.props),m++}for(var m in v){var K=v[m],j=K[1];g[j.props.key]||f(a,K[0],j.props)}}else a&&p!==a.nodeValue&&("string"==typeof p&&"string"==typeof l?a.nodeValue=p:(a=t.insertBefore(o(p,c),s=a),f(t,s,l.props)));return a}(e,e.children[0],t,a);l=n.pop();l());return p}function r(e,n){var t={};for(var r in e)t[r]=e[r];for(var r in n)t[r]=n[r];return t}function o(e,t){if("string"==typeof e)var r=document.createTextNode(e);else{r=(t=t||"svg"===e.type)?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type);e.props&&e.props.oncreate&&n.push(function(){e.props.oncreate(r)});for(var f=0;f<e.children.length;f++)r.appendChild(o(e.children[f],t));for(var f in e.props)i(r,f,e.props[f])}return r}function i(e,n,t,o){if("key"===n);else if("style"===n)for(var n in r(o,t=t||{}))e.style[n]=t[n]||"";else{try{e[n]=t}catch(e){}"function"!=typeof t&&(t?e.setAttribute(n,t):e.removeAttribute(n))}}function f(e,n,t){function r(){e.removeChild(n)}t&&t.onremove&&"function"==typeof(t=t.onremove(n))?t(r):r()}function u(e){if(e&&e.props)return e.props.key}function a(e){return e=e||Object.create(null),{on:function(n,t){(e[n]||(e[n]=[])).push(t)},off:function(n,t){e[n]&&e[n].splice(e[n].indexOf(t)>>>0,1)},emit:function(n,t){(e[n]||[]).slice().map(function(e){e(t)}),(e["*"]||[]).slice().map(function(e){e(n,t)})}}}function l(e){var n=e.split("/");return n.slice(""!==n[0]?0:1)}function p(e){var n=e.map(function(e){return n=e[0],t=e[1],{parts:l(n),handler:t};var n,t});return{get:function(e){return function(e,n){var t=l(e),r={};e:for(var o=0,i=n;o<i.length;o+=1){var f=i[o];if(t.length===f.parts.length){for(var u=0;u<f.parts.length;u++)if(":"!==f.parts[u][0]){if(f.parts[u]!==t[u]){if("*"===f.parts[u])break;continue e}}else r[f.parts[u].slice(1)]=t[u];return f.handler(r)}if("*"==f.parts[0])return f.handler(r)}}(e,n)}}}function c(e){return void 0===e&&(e=window.location),e.href.replace(e.origin,"")}e.h=function(e,n){for(var t,r=[],o=[],i=arguments.length;i-- >2;)r.push(arguments[i]);for(;r.length;)if(Array.isArray(t=r.pop()))for(i=t.length;i--;)r.push(t[i]);else null!=t&&!0!==t&&!1!==t&&o.push("number"==typeof t?t+="":t);return"string"==typeof e?{type:e,props:n||{},children:o}:e(n||{},o)},e.app=function(e){void 0===e&&(e=[]);var n=null,r=p(e);return"undefined"!=typeof window?function(e,o){var i=a.default?a.default():a();function f(o){return void 0===o&&(o=c()),i.emit("navigate",o),Promise.resolve(r.get(o)).then(function(r){return requestAnimationFrame(function(){t(e,n,n=r),i.emit("render")})}).then(function(){return window.history.pushState({},document.title,o)})}return window.addEventListener("click",function(e){if(!(e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||e.defaultPrevented)){for(var n=e.target;n&&(!n.href||"A"!==n.nodeName);)n=n.parentNode;!n||window.location.origin!==n.origin||n.hasAttribute("download")||"_blank"===n.target||/mailto|tel/.test(n.href)||(e.preventDefault(),f(c(n)))}}),window.onpopstate=function(e){return f(c(e.target.location))},f().then(o),Object.assign(i,{render:f})}:r.get}});
//# sourceMappingURL=sill.umd.js.map
